<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para ti ðŸ©µ </title>

<style>
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: linear-gradient(135deg, #dbeafe, #93c5fd);
  transition: 0.6s ease;
  padding: 15px;
}

.card {
  width: 100%;
  max-width: 420px;
  background: white;
  border-radius: 20px;
  padding: 25px;
  text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  transition: 0.6s ease;
  position: relative;
  z-index: 10;
}

.heart {
  font-size: 45px;
  cursor: pointer;
  transition: 0.3s;
}

#aviso {
  font-size: 14px;
  opacity: 0.8;
  margin-bottom: 10px;
  animation: parpadeo 1.5s infinite;
}

@keyframes parpadeo {
  0% { opacity: 0.3; }
  50% { opacity: 1; }
  100% { opacity: 0.3; }
}

#mensaje {
  margin-top: 20px;
  max-height: 320px;
  overflow-y: auto;
  text-align: left;
  line-height: 1.8;
  padding: 10px;
  white-space: pre-line;

}

/* ðŸ’— FINAL */
body.final {
  background: linear-gradient(135deg, #fbcfe8, #f9a8d4, #fda4af);
  background-size: 300% 300%;
  animation: fondo-suave 12s ease infinite;
}

body.final .card {
  border: 2px solid #f472b6;
  box-shadow: 0 0 25px #f472b6;
}

body.final .heart {
  animation: latido-rosa 1.6s infinite;
}

body.final #mensaje {
  color: #9d174d;
  font-size: 17px;
}

@keyframes latido-rosa {
  0% { transform: scale(1); }
  50% { transform: scale(1.18); }
  100% { transform: scale(1); }
}

@keyframes fondo-suave {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.heart-float {
  position: fixed;
  bottom: -50px;
  z-index: 9999; 
  opacity: 0.9;
  pointer-events: none;

  animation-name: flotar;
  animation-timing-function: linear;
  animation-fill-mode: forwards;

  filter: drop-shadow(0 0 6px rgba(255, 105, 180, 0.6));
}



@keyframes flotar {
  0% {
    transform: translateY(0) scale(1);
    opacity: 0.9;
  }
  100% {
    transform: translateY(-110vh) scale(1.2);
    opacity: 0;
  }
}


.spark {
  position: absolute;
  width: 3px;
  height: 8px;
  background: rgba(236, 72, 153, 0.7);
  pointer-events: none;
  z-index: 2;
  border-radius: 2px;
  animation: explotar 1.2s ease-out forwards;
  box-shadow: 0 0 8px rgba(236, 72, 153, 0.6);
}





@keyframes explotar {
  0% {
    transform: translate(0, 0);
    opacity: 1;
  }
  100% {
    transform: translate(var(--x), var(--y));
    opacity: 0;
  }
}

.fade-in {
  opacity: 0;
  animation: aparecerSuave 2.5s ease forwards;
}

@keyframes aparecerSuave {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}


</style>
</head>

<body>

<div class="card">
  <p id="aviso">Presiona el corazÃ³n ðŸ’™</p>
  <div class="heart">ðŸ’™</div>
  <h1>Para mi persona favorita</h1>
  <p id="mensaje">Hecho con amor y un poco de cÃ³digo</p>
</div>

<script>
const heart = document.querySelector(".heart");
const mensaje = document.querySelector("#mensaje");
const body = document.body;
const aviso = document.querySelector("#aviso");

const frases = [
  "Gracias por existir ðŸ’™",
  "Eres mi lugar seguro ðŸ’«",
  "Cada dÃ­a contigo es especial âœ¨"
];

const cartaFinal =
"Te amo mucho, amor â¤ï¸\n\n" +

"No soy perfecto ni bueno escribiendo cartas, pero querÃ­a hacer algo diferente para ti. " +
"Me tomÃ© el tiempo de sentarme a pensar en ti y escribir esto.\n\n" +

"No escribo esto porque tenga todas las palabras correctas,\n" +
"lo escribo porque contigo aprendÃ­ que no hace falta ser perfecto,\n" +
"solo ser sincero.\n\n" +

"Esta carta no estÃ¡ hecha con papel, pero sÃ­ con tiempo y paciencia, " +
"lÃ­nea por lÃ­nea, pensando en ti todo el tiempo. " +
"Gracias por ser mi persona, mi lugar seguro y mi sonrisa diaria.\n\n" +

"Desde que llegaste a mi vida muchas cosas empezaron a tener mÃ¡s sentido. " +
"Me gusta cÃ³mo eres y cÃ³mo haces que los dÃ­as malos no se sientan tan pesados.\n\n" +

"Si alguna vez dudas de lo que significas para mÃ­, recuerda que eres mi calma, " +
"mi alegrÃ­a y mi pensamiento favorito antes de dormir.\n\n" +

"Gracias por ser parte de mi historia.\n\n" +

"Te amo mÃ¡s de lo que sabes.\n" +
"AquÃ­ estoy.\n" +
"Con todo lo que soy.\n" +
"Para ti ðŸ’–";




const velocidadLatido = 1600;
const latido = new Audio("heartbeat.mp3");
latido.volume = 0.25;

let index = 0;
let latidoInterval = null;
let corazonesInterval = null;

function iniciarLatido() {
  latido.currentTime = 0;
  latido.play();
  latidoInterval = setInterval(() => {
    latido.currentTime = 0;
    latido.play();
  }, velocidadLatido);
}



function crearCorazon() {
  const corazon = document.createElement("div");
  corazon.classList.add("heart-float");

  const emojis = ["ðŸ’—","ðŸ’–","ðŸ’ž","ðŸ’•","ðŸ’˜","â¤ï¸â€ðŸ”¥"];
  corazon.textContent = emojis[Math.floor(Math.random() * emojis.length)];

  corazon.style.left = Math.random() * 100 + "vw";
  corazon.style.fontSize = (Math.random() * 22 + 26) + "px";

  //  Duracion...
  corazon.style.animationDuration = (Math.random() * 2 + 4) + "s";

  document.body.appendChild(corazon);

  setTimeout(() => {
    corazon.remove();
  }, 7000);
}


function crearSpark() {
  const card = document.querySelector(".card");
  const spark = document.createElement("div");
  spark.className = "spark";

  const rect = card.getBoundingClientRect();

  // Solo lados izquierdo y derecho
  const lado = Math.random() < 0.5 ? "izq" : "der";

  let x = 0;
  let y = (Math.random() - 0.5) * 60; // poco movimiento vertical

  if (lado === "izq") {
    spark.style.left = "0px";
    spark.style.top = Math.random() * rect.height + "px";
    x = -50; // salen hacia afuera
  } else {
    spark.style.right = "0px";
    spark.style.top = Math.random() * rect.height + "px";
    x = 50; // salen hacia afuera
  }

  spark.style.setProperty("--x", x + "px");
  spark.style.setProperty("--y", y + "px");

  card.appendChild(spark);

  setTimeout(() => {
    spark.remove();
  }, 1200);
}





heart.addEventListener("click", () => {

  heart.style.transform = "scale(1.2)";
  setTimeout(()=>{ heart.style.transform = "scale(1)"; },200);

  if(index < frases.length){
    mensaje.textContent = frases[index];
    index++;
    return;
  }

  if(index === frases.length){
    body.classList.add("final");
    heart.textContent = "ðŸ’—";
    aviso.style.display = "none";
    heart.style.pointerEvents = "none";

    iniciarLatido();

mensaje.textContent = cartaFinal;
mensaje.classList.add("fade-in");





    corazonesInterval = setInterval(crearCorazon,400);
    setInterval(crearSpark, 120);


    if(navigator.vibrate){
      navigator.vibrate([80,40,80]);
    }

    index++;
  }
});


</script>

</body>
</html>

